<OpenSplice>
    <Domain>
        <Name>JDDDS</Name>
        <Id>0</Id>
        <Database>
            <Size>10485760</Size>
        </Database>
        <Lease>
            <ExpiryTime update_factor="0.05">180.0</ExpiryTime>
        </Lease>
        <Service enabled="false" name="durability">
            <Command>durability</Command>
        </Service>
        <Service name="ddsi2-External">
            <Command>ddsi2e</Command>
            <FailureAction>restart</FailureAction>
        </Service>
        <Service name="ddsi2-Internal">
            <Command>ddsi2e</Command>
            <FailureAction>restart</FailureAction>
        </Service>
    </Domain>
    <Daemon>
        <KernelManager>
            <Scheduling>
                <Priority priority_kind="Absolute">187</Priority>
                <Class>Realtime</Class>
            </Scheduling>
        </KernelManager>
        <GarbageCollector>
            <Scheduling>
                <Priority priority_kind="Absolute">210</Priority>
                <Class>Realtime</Class>
            </Scheduling>
        </GarbageCollector>
    </Daemon>
    <DDSI2Service name="ddsi2-External">
        <General>
            <NetworkInterfaceAddress>AUTO</NetworkInterfaceAddress>
            <AllowMulticast>true</AllowMulticast>
            <EnableMulticastLoopback>false</EnableMulticastLoopback>
            <CoexistWithNativeNetworking>false</CoexistWithNativeNetworking>
        </General>
        <Discovery>
            <SPDPMulticastAddress>239.255.0.1</SPDPMulticastAddress>
            <DomainId>1</DomainId>
        </Discovery>
        <Partitioning>
            <IgnoredPartitions>
                <IgnoredPartition DCPSPartitionTopic="Internal*.*"/>
                <IgnoredPartition DCPSPartitionTopic="__BUILT-IN PARTITION__.DCPSTopic"/>
                <IgnoredPartition DCPSPartitionTopic="__BUILT-IN PARTITION__.DCPSPublication"/>
                <IgnoredPartition DCPSPartitionTopic="__BUILT-IN PARTITION__.DCPSSubscription"/>
                <IgnoredPartition DCPSPartitionTopic="__BUILT-IN PARTITION__.DCPSParticipant"/>
            </IgnoredPartitions>
            <NetworkPartitions>
                <NetworkPartition address="239.255.0.2" connected="true" name="External_VehicleToVehicle"/>
                <NetworkPartition address="239.255.0.3" connected="true" name="External_Discovery"/>
            </NetworkPartitions>
            <PartitionMappings>
                <PartitionMapping DCPSPartitionTopic="External_VehicleToVehicle.*" networkPartition="External_VehicleToVehicle"/>
                <PartitionMapping DCPSPartitionTopic="External_Discovery.*" networkPartition="External_Discovery"/>
            </PartitionMappings>
        </Partitioning>
        <Channels>
            <!-- Per-channel Bandwidths default to unlimited, a tev.CHAN
             thread is created only when an AuxiliaryBandwidthLimit
             for that channel is specified and/or thread properties
             are specified for a thread named tev.CHAN. -->
            <Channel name="HighPriority" transportPriority="100">
                <DiffServField>184</DiffServField>
                <AuxiliaryBandwidthLimit>50000</AuxiliaryBandwidthLimit>
            </Channel>
            <Channel name="NormalPriority" transportPriority="50">
                <DiffServField>0</DiffServField>
                <DataBandwidthLimit>80000</DataBandwidthLimit>
                <AuxiliaryBandwidthLimit>30000</AuxiliaryBandwidthLimit>
            </Channel>
        </Channels>
        <Threads>
            <!-- Ordered from high to low priority, without any guarantee
             that these priorities make sense. (Note: these are all
             the DDSI2 specific threads) -->
            <Thread name="recv">
                <Scheduling>
                    <Priority>190</Priority>
                    <Class>Realtime</Class>
                </Scheduling>
            </Thread>
            <Thread name="xmit.HighPriority">
                <Scheduling>
                    <Priority>190</Priority>
                    <Class>Realtime</Class>
                </Scheduling>
            </Thread>
            <Thread name="tev.HighPriority">
                <Scheduling>
                    <Priority>190</Priority>
                    <Class>Realtime</Class>
                </Scheduling>
            </Thread>
            <Thread name="dq.HighPriority">
                <Scheduling>
                    <Priority>190</Priority>
                    <Class>Realtime</Class>
                </Scheduling>
            </Thread>
            <Thread name="xmit.NormalPriority">
                <Scheduling>
                    <Priority>230</Priority>
                    <Class>Realtime</Class>
                </Scheduling>
            </Thread>
            <Thread name="tev.NormalPriority">
                <Scheduling>
                    <Priority>230</Priority>
                    <Class>Realtime</Class>
                </Scheduling>
            </Thread>
            <Thread name="dq.NormalPriority">
                <Scheduling>
                    <Priority>230</Priority>
                    <Class>Realtime</Class>
                </Scheduling>
            </Thread>
            <Thread name="tev">
                <Scheduling>
                    <Priority>230</Priority>
                    <Class>Realtime</Class>
                </Scheduling>
            </Thread>
            <Thread name="dq.builtins">
                <Scheduling>
                    <Priority>230</Priority>
                    <Class>Realtime</Class>
                </Scheduling>
            </Thread>
            <Thread name="gc">
                <Scheduling>
                    <Priority>251</Priority>
                    <Class>Realtime</Class>
                </Scheduling>
            </Thread>
            <Thread name="lease">
                <Scheduling>
                    <Priority>251</Priority>
                    <Class>Realtime</Class>
                </Scheduling>
            </Thread>
        </Threads>
        <Compatibility>
            <!-- see the release notes and/or the OpenSplice configurator on DDSI interoperability -->
            <StandardsConformance>lax</StandardsConformance>
            <!-- the following one is necessary only for TwinOaks CoreDX DDS compatibility
				         <ExplicitlyPublishQosSetToDefault>true</ExplicitlyPublishQosSetToDefault>
				-->
            <RespondToRtiInitZeroAckWithInvalidHeartbeat>true</RespondToRtiInitZeroAckWithInvalidHeartbeat>
            <ManySocketsMode>false</ManySocketsMode>
        </Compatibility>
        <Unsupported>
            <MaxMessageSize>1472</MaxMessageSize>
            <RetransmitMergingPeriod>50000</RetransmitMergingPeriod>
            <RetransmitMerging>always</RetransmitMerging>
            <BuiltinEndpointSet>minimal</BuiltinEndpointSet>
            <NackDelay>200</NackDelay>
            <AuxiliaryBandwidthLimit>25000</AuxiliaryBandwidthLimit>
            <SquashParticipants>true</SquashParticipants>
            <PreEmptiveAckDelay>100</PreEmptiveAckDelay>
            <ScheduleTimeRounding>1</ScheduleTimeRounding>
            <LegacyFragmentation>true</LegacyFragmentation>
        </Unsupported>
        <!-- <Tracing>
				<Timestamps>true</Timestamps>
				<AppendToFile>true</AppendToFile>
				<OutputFile>ddsi-tracing-output.log</OutputFile>
				<Verbosity>finest</Verbosity>
			</Tracing>-->
    </DDSI2Service>
    <DDSI2Service name="ddsi2-Internal">
        <General>
            <NetworkInterfaceAddress>AUTO</NetworkInterfaceAddress>
            <AllowMulticast>true</AllowMulticast>
            <EnableMulticastLoopback>false</EnableMulticastLoopback>
            <CoexistWithNativeNetworking>false</CoexistWithNativeNetworking>
        </General>
        <Discovery>
            <SPDPMulticastAddress>224.0.0.1</SPDPMulticastAddress>
            <DomainId>0</DomainId>
        </Discovery>
        <Partitioning>
            <IgnoredPartitions>
                <IgnoredPartition DCPSPartitionTopic="External*.*"/>
                <IgnoredPartition DCPSPartitionTopic="__BUILT-IN PARTITION__.DCPSTopic"/>
                <IgnoredPartition DCPSPartitionTopic="__BUILT-IN PARTITION__.DCPSPublication"/>
                <IgnoredPartition DCPSPartitionTopic="__BUILT-IN PARTITION__.DCPSSubscription"/>
                <IgnoredPartition DCPSPartitionTopic="__BUILT-IN PARTITION__.DCPSParticipant"/>
            </IgnoredPartitions>
            <NetworkPartitions>
                <NetworkPartition address="224.0.0.2" connected="true" name="Internal_VehicleLocal"/>
                <NetworkPartition address="224.0.0.3" connected="true" name="Internal_Discovery"/>
            </NetworkPartitions>
            <PartitionMappings>
                <PartitionMapping DCPSPartitionTopic="Internal_VehicleLocal.*" networkPartition="Internal_VehicleLocal"/>
                <PartitionMapping DCPSPartitionTopic="Internal_Discovery.*" networkPartition="Internal_Discovery"/>
            </PartitionMappings>
        </Partitioning>
        <Channels>
            <!-- Per-channel Bandwidths default to unlimited, a tev.CHAN
             thread is created only when an AuxiliaryBandwidthLimit
             for that channel is specified and/or thread properties
             are specified for a thread named tev.CHAN. -->
            <Channel name="HighPriority" transportPriority="100">
                <DiffServField>184</DiffServField>
                <AuxiliaryBandwidthLimit>50000</AuxiliaryBandwidthLimit>
            </Channel>
            <Channel name="NormalPriority" transportPriority="50">
                <DiffServField>0</DiffServField>
                <DataBandwidthLimit>80000</DataBandwidthLimit>
                <AuxiliaryBandwidthLimit>30000</AuxiliaryBandwidthLimit>
            </Channel>
        </Channels>
        <Threads>
            <!-- Ordered from high to low priority, without any guarantee
             that these priorities make sense. (Note: these are all
             the DDSI2 specific threads) -->
            <Thread name="recv">
                <Scheduling>
                    <Priority>190</Priority>
                    <Class>Realtime</Class>
                </Scheduling>
            </Thread>
            <Thread name="xmit.HighPriority">
                <Scheduling>
                    <Priority>190</Priority>
                    <Class>Realtime</Class>
                </Scheduling>
            </Thread>
            <Thread name="tev.HighPriority">
                <Scheduling>
                    <Priority>190</Priority>
                    <Class>Realtime</Class>
                </Scheduling>
            </Thread>
            <Thread name="dq.HighPriority">
                <Scheduling>
                    <Priority>190</Priority>
                    <Class>Realtime</Class>
                </Scheduling>
            </Thread>
            <Thread name="xmit.NormalPriority">
                <Scheduling>
                    <Priority>230</Priority>
                    <Class>Realtime</Class>
                </Scheduling>
            </Thread>
            <Thread name="tev.NormalPriority">
                <Scheduling>
                    <Priority>230</Priority>
                    <Class>Realtime</Class>
                </Scheduling>
            </Thread>
            <Thread name="dq.NormalPriority">
                <Scheduling>
                    <Priority>230</Priority>
                    <Class>Realtime</Class>
                </Scheduling>
            </Thread>
            <Thread name="tev">
                <Scheduling>
                    <Priority>230</Priority>
                    <Class>Realtime</Class>
                </Scheduling>
            </Thread>
            <Thread name="dq.builtins">
                <Scheduling>
                    <Priority>230</Priority>
                    <Class>Realtime</Class>
                </Scheduling>
            </Thread>
            <Thread name="gc">
                <Scheduling>
                    <Priority>251</Priority>
                    <Class>Realtime</Class>
                </Scheduling>
            </Thread>
            <Thread name="lease">
                <Scheduling>
                    <Priority>251</Priority>
                    <Class>Realtime</Class>
                </Scheduling>
            </Thread>
        </Threads>
        <Compatibility>
            <!-- see the release notes and/or the OpenSplice configurator on DDSI interoperability -->
            <StandardsConformance>lax</StandardsConformance>
            <!-- the following one is necessary only for TwinOaks CoreDX DDS compatibility
				         <ExplicitlyPublishQosSetToDefault>true</ExplicitlyPublishQosSetToDefault>
				-->
            <RespondToRtiInitZeroAckWithInvalidHeartbeat>true</RespondToRtiInitZeroAckWithInvalidHeartbeat>
            <ManySocketsMode>false</ManySocketsMode>
        </Compatibility>
        <Unsupported>
            <MaxMessageSize>1472</MaxMessageSize>
            <RetransmitMergingPeriod>50000</RetransmitMergingPeriod>
            <RetransmitMerging>always</RetransmitMerging>
            <BuiltinEndpointSet>minimal</BuiltinEndpointSet>
            <NackDelay>200</NackDelay>
            <AuxiliaryBandwidthLimit>25000</AuxiliaryBandwidthLimit>
            <SquashParticipants>true</SquashParticipants>
            <PreEmptiveAckDelay>100</PreEmptiveAckDelay>
            <ScheduleTimeRounding>1</ScheduleTimeRounding>
            <LegacyFragmentation>true</LegacyFragmentation>
        </Unsupported>
        <!-- <Tracing>
				<Timestamps>true</Timestamps>
				<AppendToFile>true</AppendToFile>
				<OutputFile>ddsi-tracing-output.log</OutputFile>
				<Verbosity>finest</Verbosity>
			</Tracing>-->
    </DDSI2Service>
    <DurabilityService name="durability">
        <Network>
            <InitialDiscoveryPeriod>10.0</InitialDiscoveryPeriod>
            <Alignment>
                <TimeAlignment>FALSE</TimeAlignment>
                <RequestCombinePeriod>
                    <Initial>2.5</Initial>
                    <Operational>0.1</Operational>
                </RequestCombinePeriod>
            </Alignment>
            <WaitForAttachment maxWaitCount="10">
                <ServiceName>ddsi2e</ServiceName>
            </WaitForAttachment>
        </Network>
        <NameSpaces>
            <NameSpace name="defaultNamespace">
                <Partition>*</Partition>
            </NameSpace>
            <Policy alignee="Initial" aligner="True" durability="Durable" nameSpace="defaultNamespace"/>
        </NameSpaces>
    </DurabilityService>
</OpenSplice>
